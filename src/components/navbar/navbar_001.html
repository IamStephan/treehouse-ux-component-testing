<style type="application/scss" lang="scss">
  @import "../../global/index.css";

  .nav {
    .top-bar {
      @apply grid grid-cols-[1fr,auto] grid-rows-[auto,auto];

      .main {
        @apply bg-white col-start-1 col-end-2 row-start-1 row-end-2 p-2 flex;

        .logo-container {
          .logo {
            @apply h-10 w-auto;
          }
        }

        .cta-container {
          @apply flex flex-1 text-blue-900 justify-center items-center space-x-2;

          .cta-icon {
            @apply w-5 h-5;
          }

          .cta-text {
            @apply font-bold text-lg;
          }
        }
      }

      .banner {
        @apply bg-blue-900 col-start-1 col-end-2 row-start-2 row-end-3 px-2 py-1;

        .banner-text {
          @apply line-clamp-1 text-white text-xs text-center italic font-light;
        }
      }

      .menu {
        @apply bg-black col-start-2 col-end-3 row-start-1 row-end-3 text-white flex justify-center items-center flex-col px-5 space-y-1;

        .menu-icon {
          @apply w-8 h-8;
        }

        .menu-text {
          @apply text-[10px] uppercase font-semibold;
        }
      }
    }

    .top-bar-navigation {
      @apply bg-black text-white py-4 px-6 hidden;
    }

    &.expanded {
      .top-bar-navigation {
        @apply block;
      }
    }

    .bottom-bar {
      @apply fixed inset-x-0 bottom-0 bg-white grid grid-cols-4 gap-3 p-3 items-center ring-1 ring-gray-900 ring-opacity-10;

      .item {
        @apply flex flex-col items-center space-y-2 text-gray-900;

        &.selected {
          @apply relative text-blue-900;

          .text {
            @apply relative;

            &::after {
              content: "";
              @apply h-0.5 bg-blue-900 absolute -inset-x-0.5 -bottom-0.5;
            }
          }
        }

        .icon {
          @apply h-6 w-auto;
        }

        .text {
          @apply text-[8px] uppercase font-bold text-center;
        }

        .support {
          @apply bg-blue-500 shadow-md text-white rounded-full p-4 -m-0.5 block;

          .icon-support {
            @apply w-6 h-6;
          }
        }
      }
    }
  }
</style>

<script></script>

<module href="./src/modules/layout.html">
  <nav class="nav">
    <section class="top-bar">
      <div class="main">
        <div class="logo-container">
          <if condition="MODE === 'development'">
            <img class="logo" src="../../assets/logo.webp" />
          </if>
          <else>
            <img
              class="logo"
              src="https://cdn.treehouseinternetgroup.com/cms_images/7/LJ-CBS-Logo_new-Fonts-and-Tagline.png"
            />
          </else>
        </div>

        <div class="cta-container">
          <svg class="cta-icon" viewBox="0 0 512 512">
            <path
              fill="currentColor"
              d="M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"
            ></path>
          </svg>
          <p class="cta-text">1-855-200-7133</p>
        </div>
      </div>
      <div class="banner">
        <p class="banner-text">
          Serving Connecticut, Westchester and Putnam Counties
        </p>
      </div>
      <button class="menu">
        <svg class="menu-icon" viewBox="0 0 448 512">
          <path
            fill="currentColor"
            d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"
          ></path>
        </svg>
        <p class="menu-text">Menu</p>
      </button>
    </section>

    <section class="top-bar-navigation">
      <ul>
        <!-- SUPERNAV LINKS GO HERE -->
      </ul>
    </section>

    <!-- 
      NOTE:
      ======
      Unless the body tag gets padded the only way to get this working
      in terms of UX is to have JS that hides it on down scroll
     -->
    <section class="bottom-bar">
      <a class="item selected">
        <svg class="icon" viewBox="0 0 384 512">
          <path
            fill="currentColor"
            d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"
          ></path>
        </svg>
        <div class="text">Service Area</div>
      </a>

      <a class="item">
        <div class="icon">
          <svg class="icon" viewBox="0 0 384 512">
            <path
              fill="currentColor"
              d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"
            ></path>
          </svg>
        </div>
        <div class="text">free estimate</div>
      </a>

      <a class="item" href="">
        <svg class="icon" viewBox="0 0 512 512">
          <path
            fill="currentColor"
            d="M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"
          ></path>
        </svg>
        <div class="text">Call us</div>
      </a>

      <div class="item">
        <button class="support">
          <svg
            class="icon-support"
            viewBox="0 0 26 21"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            alt="Open Webchat"
          >
            <g
              id="Page-1"
              stroke="none"
              stroke-width="1"
              fill="none"
              fill-rule="evenodd"
            >
              <g
                id="Settings-11-Copy"
                transform="translate(-208.000000, -370.000000)"
                fill="#FFFFFF"
              >
                <path
                  d="M218,370 L223.65,370 C229.172847,370 233.65,374.477153 233.65,380 L233.65,390.9 L218,390.9 C212.477153,390.9 208,386.422847 208,380.9 L208,380 C208,374.477153 212.477153,370 218,370 Z M214.65,375.7 L214.65,377.41 L226.321429,377.41 L226.321429,375.7 L214.65,375.7 Z M214.65,383.3 L214.65,385.01 L226.321429,385.01 L226.321429,383.3 L214.65,383.3 Z M214.65,379.5 L214.65,381.21 L227.95,381.21 L227.95,379.5 L214.65,379.5 Z"
                  id="button-2-icon-only"
                ></path>
              </g>
            </g>
          </svg>
        </button>
      </div>
    </section>
  </nav>
</module>
